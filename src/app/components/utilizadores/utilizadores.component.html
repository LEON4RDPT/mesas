<div *ngIf="users && users.length > 0; else noUsers" class="relative overflow-x-auto shadow-md rounded-lg w-1/2 mx-auto mt-10">
    <table class="w-full text-sm text-left rtl:text-right text-gray-100 dark:text-white">
        <thead class="text-xs text-white uppercase bg-gray-600 dark:bg-gray-700 dark:text-gray-400">
            <tr>
                <th scope="col" class="px-6 py-3">Id</th>
                <th scope="col" class="px-6 py-3">Email</th>
                <th scope="col" class="px-6 py-3">Nome</th>
                <th scope="col" class="px-6 py-3">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr
                class="" 
                *ngFor="let user of users"
            >
                <th scope="col" class="px-6 py-3">{{ user.id }}</th>
                <th scope="col" class="px-6 py-3">{{ user.email }}</th>
                <th scope="col" class="px-6 py-3">{{ user.nome }}</th>
                <th scope="col" class="px-6 py-3">
                    <button (click)="openEditModal(user)" class="cursor-pointer bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 mr-1 px-4 rounded">
                        Editar
                    </button>
                    <button class="cursor-pointer bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
                        Desativar
                    </button>
                </th>
            </tr>
        </tbody>
    </table>
</div>

<!-- Fallback message when no users are available -->
<ng-template #noUsers>
    <div class="flex justify-center items-center h-full">
        <h1 class="text-center text-3xl font-semibold">Nenhum Utilizador Rr</h1>
    </div>
</ng-template>

<div
    *ngIf="isModalOpen"
    class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"
>
    <div class="bg-gray-800 text-gray-200 p-6 rounded-lg shadow-lg w-1/3">
        <h2 class="text-xl font-bold mb-4">Editar Utilizador</h2>
        <form (ngSubmit)="saveChanges()">
            <div class="mb-4">
                <label for="email" class="block text-sm font-medium">Email</label>
                <input
                    type="email"
                    id="email"
                    [(ngModel)]="selectedUser.email"
                    name="email"
                    class="w-full mt-1 p-2 bg-gray-700 text-gray-200 rounded border border-gray-600"
                />
            </div>
            <div class="mb-4">
                <label for="nome" class="block text-sm font-medium">nome</label>
                <input
                    type="text"
                    id="nome"
                    [(ngModel)]="selectedUser.nome"
                    name="nome"
                    class="w-full mt-1 p-2 bg-gray-700 text-gray-200 rounded border border-gray-600"
                />
            </div>
            <div class="flex justify-end space-x-2">
                <button
                    type="button"
                    class="cursor-pointer bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"
                    (click)="closeModal()"
                >
                    Cancelar
                </button>
                <button
                    type="submit"
                    class="cursor-pointer bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"
                >
                    Salvar
                </button>
            </div>
        </form>
    </div>
</div>