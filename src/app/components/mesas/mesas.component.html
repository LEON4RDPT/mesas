<div class="flex justify-center">
  <div
    class="container mt-10 w-3/5 h-3/4 bg-gray-700 text-white shadow-2xl rounded-lg min-h-[75vh] max-h-[75vh] p-6"
  >
    <h1 class="text-center text-2xl font-semibold relative">Mesas</h1>
    <!-- Grid Container for Mesa Cards -->
    <!-- Grid Scroll Wrapper -->
    <div
      class="border border-gray-600 shadow-xl p-2 mt-10 bg-gray-600 rounded-lg max-h-[60vh] overflow-auto custom-scroll"
    >
      <!-- Grid Container -->
      <div
        class="grid gap-2"
        [style.display]="'grid'"
        [style.gridTemplateColumns]="'repeat(' + (maxX + 1) + ', 100px)'"
        [style.gridTemplateRows]="'repeat(' + (maxY + 1) + ', 100px)'"
      >
        <div
          *ngFor="let mesa of mesas"
          class="flex items-center text-center justify-center shadow rounded cursor-pointer"
          [style.gridColumnStart]="mesa.localX + 1"
          [style.gridRowStart]="mesa.localY + 1"
          style="width: 100px; height: 100px"
          [ngClass]="
            mesa.ativo ? 'bg-blue-500 text-white' : 'bg-red-500 text-white'
          "
          (click)="handleOpenMesaDetalhes(mesa)"
        >
          Mesa {{ mesa.id }} <br />
        </div>
      </div>
    </div>
  </div>

  <div
    *ngIf="selectedMesa"
    class="fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-50"
  >
    <div class="bg-white text-gray-600 rounded-lg shadow-lg p-6 w-1/3">
      <h2 class="text-xl font-bold mb-4">
        Detalhes da Mesa {{ selectedMesa.id }}
      </h2>
      <p>
        <strong>Localização:</strong> ({{ selectedMesa.localX }},
        {{ selectedMesa.localY }})
      </p>
      <p>
        <strong>Capacidade:</strong>
        {{ selectedMesa.capacidadeUsers }} Utilizadores
      </p>
      <p>
        <strong>Limite de Tempo:</strong>
        {{ selectedMesa.limiteTempoMin }} minutos
      </p>
      <p><strong>Ativo:</strong> {{ selectedMesa.ativo ? "Sim" : "Não" }}</p>
      <div class="flex justify-end mt-4">
        <button
          class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"
          (click)="closeModal()"
        >
          Fechar
        </button>
      </div>
    </div>
  </div>
</div>
